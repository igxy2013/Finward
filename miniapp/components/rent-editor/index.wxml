<view wx:if="{{visible}}" class="rent-editor-modal">
  <view class="mask" bindtap="close"></view>
  <view class="panel">
    <view class="header">
      <text class="title">{{displayTitle}}</text>
    </view>
    <view class="body">
      <view class="form-item"><text class="label">租客姓名</text><input class="input" placeholder="可选" value="{{form.tenant_name}}" data-key="tenant_name" bindinput="handleInput" /></view>
      <view class="form-item"><text class="label">月租金</text>
        <view class="picker-value" data-key="monthly_rent" data-title="月租金" bindtap="openNKeyboard">
          <text>{{form.monthly_rent || '可选'}}</text>
        </view>
      </view>
      <view class="form-item"><text class="label">收租方式</text>
        <picker class="picker-field" mode="selector" range="{{frequencyOptions}}" range-key="label" value="{{frequencyIndex}}" bindchange="handleFrequencyChange">
          <view class="picker-value">{{frequencyLabel}}</view>
        </picker>
      </view>
      <view class="form-item"><text class="label">收租日({{frequencyLabel}})</text>
        <picker class="picker-field" mode="selector" range="{{dueDays}}" value="{{dueDayIndex}}" bindchange="handleDueDayChange">
          <view class="picker-value">{{form.due_day ? (frequencyLabel + form.due_day + '日') : '可选'}}</view>
        </picker>
      </view>
      <view class="form-item"><text class="label">开始日期</text>
        <picker class="picker-field" mode="date" value="{{form.start_date}}" bindchange="handleStartDate">
          <view class="picker-value">{{form.start_date || '可选'}}</view>
        </picker>
      </view>
      <view class="form-item"><text class="label">结束日期</text>
        <picker class="picker-field" mode="date" value="{{form.end_date}}" bindchange="handleEndDate">
          <view class="picker-value">{{form.end_date || '可选'}}</view>
        </picker>
      </view>
      <view class="form-item"><text class="label">合同编号</text><input class="input" placeholder="可选" value="{{form.contract_number}}" data-key="contract_number" bindinput="handleInput" /></view>
      <view class="form-item"><text class="label">合同链接</text><input class="input" placeholder="可选" value="{{form.contract_url}}" data-key="contract_url" bindinput="handleInput" /></view>
      <view class="form-item row"><text class="label">启用提醒</text><switch checked="{{form.reminder_enabled}}" bindchange="handleReminderToggle"></switch></view>
      <view class="form-item"><text class="label">备注</text><textarea class="textarea" placeholder="可选" value="{{form.note}}" data-key="note" bindinput="handleInput" /></view>
    </view>
    <view class="footer">
      <button class="btn cancel" bindtap="close">取消</button>
      <button class="btn confirm" loading="{{saving}}" bindtap="save">保存</button>
    </view>
  </view>
  <numeric-keyboard visible="{{nKeyboardVisible}}" value="{{nKeyboardValue}}" maxLength="{{nKeyboardMaxLength}}" maxDecimals="{{nKeyboardMaxDecimals}}" title="{{nKeyboardTitle}}" theme="income" saveDisabled="{{saving}}" saveButtonText="{{tenant && tenant.id ? '更新' : '保存'}}" bind:input="onNKeyboardInput" bind:confirm="onNKeyboardConfirm" bind:save="onNKeyboardSave" bind:close="onNKeyboardClose" />
</view>
