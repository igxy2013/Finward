<view class="page">
  <view class="card form-card">
    <view class="form-item">
      <text class="label">类型*</text>
      <picker mode="selector" range="{{typeOptions}}" range-key="label" value="{{typeIndex}}" bindchange="handleTypeChange">
        <view class="picker-value">{{typeLabel}}</view>
      </picker>
    </view>
    <view class="form-item">
      <text class="label">类别*</text>
      <picker mode="selector" range="{{categoryOptions}}" range-key="label" value="{{categoryIndex}}" bindchange="handleCategoryChange">
        <view class="picker-value">{{categoryDisplay}}</view>
      </picker>
    </view>
    <view class="form-item">
      <text class="label">金额*</text>
      <input type="number" placeholder="请输入金额" data-key="amount" value="{{form.amount}}" bindinput="handleInput" />
    </view>
    <view class="form-item">
      <text class="label">日期*</text>
      <picker mode="date" value="{{form.date}}" bindchange="handleDateChange">
        <view class="picker-value">{{form.date}}</view>
      </picker>
    </view>
    <view class="form-item row">
      <text class="label">预计项</text>
      <switch checked="{{form.planned}}" bindchange="handlePlannedChange"></switch>
    </view>
    <view class="form-item row">
      <text class="label">每月重复</text>
      <switch checked="{{form.recurring_monthly}}" bindchange="handleRecurringChange"></switch>
    </view>
    <view class="form-item">
      <text class="label">备注</text>
      <textarea placeholder="可选" data-key="note" value="{{form.note}}" bindinput="handleInput" />
    </view>
    <button type="primary" bindtap="submit" loading="{{submitting}}">保存</button>
  </view>
</view>
